var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},t={},n=e.parcelRequire46c0;null==n&&((n=function(e){if(e in a)return a[e].exports;if(e in t){var n=t[e];delete t[e];var o={id:e,exports:{}};return a[e]=o,n.call(o.exports,o,o.exports),o.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,a){t[e]=a},e.parcelRequire46c0=n);var o=n("4Bu0d"),r=n("etBjH"),c=n("aYguL");async function i(e,a=[]){return a.map((async a=>{const t=await async function(e,a){const t=c.ref(e,`prducts/images/${a.name}`);return await c.uploadBytes(t,a)}(e,a);return c.getDownloadURL(c.ref(e,t.ref.fullPath))}))}const l=document.getElementById("forms"),s=(l.img,l.name),u=l.description,d=l.price,f=(l.stock,l.category,l.vegano,l.azucar,l.btn,document.querySelector("#form__item__img")),g=document.querySelector("#imagenPrevisualizacion");l.addEventListener("submit",(async e=>{if(e.preventDefault(),""===s.value||""===u.value||""===d.value)alert("Hay campos sin llenar. Por favor llena los campos");else{const e=l.img.files,a=l.name.value,t=l.description.value,n=l.price.value,c=l.stock.value,s=l.category.value,u=l.vegano.value,d=l.azucar.value;let f=[];if(e.length){const a=await i(o.storage,[...e]);f=await Promise.all(a)}const g={img:f,name:a,description:t,price:n,stock:c,category:s,vegano:u,azucar:d};await async function(e,a){try{await r.addDoc(r.collection(e,"products"),a),console.log("product added successfully!")}catch(e){console.log(e)}}(o.db,g),alert("Producto añadido éxitosamente")}})),f.addEventListener("change",(()=>{const e=f.files;if(!e||!e.length)return void(g.src="");const a=e[0],t=URL.createObjectURL(a);g.src=t}));
//# sourceMappingURL=createProduct.91e2e052.js.map
