var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},r=e.parcelRequire46c0;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in n){var r=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,r.call(a.exports,a,a.exports),a.exports}var c=new Error("Cannot find module '"+e+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(e,t){n[e]=t},e.parcelRequire46c0=r);var a=r("4Bu0d"),c=r("1tHc5"),o=r("etBjH");var d=r("6naOk"),s=(d=r("6naOk"),r("aDR0T"));const i=document.getElementById("bakery"),l=document.getElementById("category"),u=document.getElementById("order");document.getElementById("veganism"),document.getElementById("sugars");let p,f=[],g=[];async function m(){const e=await async function(e){const t=o.collection(e,"products");try{const{docs:e}=await o.getDocs(t);return e.map((e=>(console.log(e),{...e.data(),id:e.id})))}catch(e){console.log(e)}}(a.db);i.innerHTML="",e.forEach((e=>{b(e)})),f=e}function b(e){const t=document.createElement("a");t.className="product",t.setAttribute("href",`./product.html?id=${e.id}`);const n=e.img.length?e.img[0]:"https://cdn.dribbble.com/users/55871/screenshots/2158022/media/95f08ed3812af28b93fa534fb5d277b3.jpg",r=g.some((t=>t.id===e.id))?'<button class="product_cart" disabled>Producto añadido</button >':'<button class="product_cart">Añadir al carrito</button>';t.innerHTML=`\n    \n        <div class="dessert"> \n            <img src="${n}" alt="" class="dessert__img">\n            <h3 class="dessert__caption">${e.name}</h3>\n            <p class="dessert__description">${s.currencyFormat(e.price)} ${e.description}</p>\n            ${r}\n        </div>`,i.appendChild(t);const c=t.querySelector(".product_cart");c.addEventListener("click",(async t=>{t.preventDefault(),g.push(e),s.addProductToCart(g),p&&await d.createFirebaseCart(a.db,p.uid,g),c.setAttribute("disabled",!0),c.innerText="Producto añadido"}))}function h(){const e=l.value,t=u.value;let n=[];n=""!==e?f.filter((t=>t.category===e)):f,"asc"===t&&(n=n.sort(((e,t)=>t.price-e.price))),"desc"===t&&(n=n.sort(((e,t)=>e.price-t.price))),i.innerHTML="",n.forEach((e=>{b(e)}))}l.addEventListener("change",(e=>{h()})),u.addEventListener("change",(e=>{h()})),c.onAuthStateChanged(a.auth,(async e=>{e?(p=e,g=await d.getFirebaseCart(a.db,p.uid)):g=s.getMyLocalCart(),m()}));
//# sourceMappingURL=home.a14bb5c0.js.map
